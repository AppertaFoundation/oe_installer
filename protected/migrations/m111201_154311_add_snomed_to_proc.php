<?php

class m111201_154311_add_snomed_to_proc extends CDbMigration
{
	public function up()
	{
		$this->truncateTable('proc_specialty_assignment');
		$this->truncateTable('proc_specialty_subsection_assignment');
		$this->truncateTable('specialty_subsection');
		$this->truncateTable('proc_opcs_assignment');
		$this->truncateTable('opcs_code');
		$this->truncateTable('proc');
		$this->addColumn('proc', 'snomed_code', 'int(10) unsigned NOT NULL DEFAULT 0');
		$this->addColumn('proc', 'snomed_term', 'varchar(255) NOT NULL DEFAULT 0');

		$procs = array(
			array(1,56087001,'Dacryocystography','Dacrocystogram','DCG ',45),
			array(2,231631004,'Dacryocystorhinostomy and insertion of tube','Dacrocystorhinostomy','DCR',75),
			array(3,231630003,'Intranasal dacryocystorhinostomy','Dacrocystorhinostomy - endonasal','DCR endo',90),
			array(5,231632006,'Insertion of Lester dacryocystorhinostomy tube','Lester Jones tube','LJ tube',45),
			array(7,275151000,'S+P - Syringe and probe nasolacrimal duct','Syringe and probe nasolacrimal duct','S&P',30),
			array(8,268413008,'Surgical biopsy of eyelid','Biopsy of lid - incisional','Bx lid',45),
			array(9,2242005,'Reconstruction of eyelid','Reconstruction of lid - local flaps','Lid recon & flaps',90),
			array(10,68304009,'Reconstruction of eyelid with graft','Reconstruction of lid with graft','Lid recon & graft',90),
			array(11,46142005,'Blepharoplasty of upper eyelid','Blepharoplasty of upper lid','Bleph upper lid',40),
			array(12,64293002,'Blepharoplasty of lower eyelid','Blepharoplasty of lower lid','Bleph lower lid',40),
			array(13,76508002,'Blepharoplasty','Blepharoplasty of both lids','Bleph both lids',80),
			array(14,265279001,'Correction of ptosis of eyelid using sling of fascia','Brow suspension with fascia lata','Brow susp AFL',90),
			array(15,30486002,'Sling operation on tarsus muscle of eyelid','Brow suspension with synthetic material','Brow susp synth',75),
			array(16,87539000,'Cryotherapy of eyelid','Cryotherapy with Collin cryoprobe','Cryo Collin',45),
			array(17,7430007,'Cryotherapy of skin lesion with liquid nitrogen','Cryotherapy with liquid nitrogen','Cryo Nitro',45),
			array(18,37625005,'Repair of entropion','Entropion correction - no graft','Ent',60),
			array(19,71408000,'Repair of eyelid ectropion ','Ectropion correction','Ectr',60),
			array(20,265278009,'Levator palpebrae resection','Ptosis correction - anterior levator excision','Pt Ant lev excn',60),
			array(21,172243002,'Lateral tarsorrhaphy','Tarsorrhaphy - lateral','Tars lat',45),
			array(22,83639008,'Decompression of orbit','Decompression of orbit - 3 walls','Decomp 3',120),
			array(23,426236005,'Internal fixation of fracture of orbit','Repair of orbital fracture','Orbital fracture',90),
			array(24,231552001,'Anterior orbitotomy','Anterior orbitotomy - conjunctival approach','Ant Orb conj',90),
			array(26,46082001,'Lateral orbitotomy','Lateral orbitotomy','Lat Orbitotomy',90),
			array(27,446684002,'Biopsy of orbit proper','Biopsy of orbit','Orbital biopsy',45),
			array(28,398031005,'Enucleation of eyeball with insertion of orbital implant','Enucleation and implant','Enuc & impnlt',60),
			array(29,29747000,'Evisceration of ocular contents with implant into scleral shell','Evisceration and implant','Evisc & Ball',90),
			array(30,397896001,'Exenteration of orbit','Exenteration','Exent',180),
			array(31,172183001,'Insertion of orbital floor implant','Insertion of orbital floor implant','OFI',90),
			array(32,112960000,'Reconstruction of conjunctival cul-de-sac with graft','Fornix reconstruction with mucus membrane graft','Fornix MMG',90),
			array(33,193845004,'Excisional biopsy of conjunctiva','Biopsy of conjunctiva - excisional','Bx exc cnj',30),
			array(34,274996002,'Electrolysis of eyelash','Electrolysis of eyelash','Elctrlys',30),
			array(35,388289006,'Curettage of chalazion','Incision and curettage of cyst','I&C',30),
			array(36,172309008,'Enlargement of lacrimal punctum','Punctoplasty','3 snp',30),
			array(37,180751003,'Harvest of sheet of fascia from fascia lata','Fascia lata harvest','FL harvest',30),
			array(38,62428002,'Suture of cornea','Suture of cornea','Corneal suture',15),
			array(40,172423006,'Removal of corneal suture','Removal of corneal suture','Corn sut removal',15),
			array(41,172555009,'Anterior vitrectomy','Anterior vitrectomy','Ant vity',20),
			array(42,361191005,'Extraction of cataract by ultrasonic phacofragmentation','Phakoemulsification','Phako',30),
			array(45,231752003,'Repositioning of intraocular lens','Repositioning of IOL','Move IOL',20),
			array(46,88234006,'Removal of implant of lens','Removal of IOL','Remove IOL',30),
			array(47,63356004,'Capsulectomy of lens','Capsulectomy','Capsulectomy',30),
			array(48,422103004,'Can opener anterior capsulotomy','Anterior capsulotomy','Ant capsulotomy',30),
			array(49,172530003,'Capsulotomy of posterior lens capsule','Posterior capsulotomy','Post Capsulotomy',30),
			array(50,49288009,'Irrigation of anterior chamber of eye','Irrigation of anterior chamber','Irrigatn AC',30),
			array(52,231728005,'Repair of prolapsed iris','Repair of prolapsed iris','Repair iris prolapse',30),
			array(53,265294002,'Surgical iridotomy','Surgical iridotomy','Surgical PI',30),
			array(54,426676006,'Amniotic membrane graft to cornea','Amniotic membrane graft','AmniotiGrft',40),
			array(56,313275006,'Astigmatic keratotomy','Astigmatic keratotomy','Astig keratotom',30),
			array(57,416582002,'Bandage contact lens','Bandage contact lens','Bandage',20),
			array(59,44716001,'Biopsy of cornea','Biopsy of cornea','Corneal biopsy',30),
			array(61,85785001,'Capsulotomy of lens','Capsulotomy (surgical)','CapsulotomyPost',45),
			array(62,172532006,'YAG laser capsulotomy of lens','Capsulotomy (YAG)','YAG caps',45),
			array(65,172436006,'Chelation of cornea','Chelation of cornea','EDTA chelation',45),
			array(66,231716002,'Insertion of corneal tension suture','Compression suture of graft','Compression sut',45),
			array(67,348748006,'Repair of cornea with conjunctival flap','Conjunctival flap','Creatn ConjHood',45),
			array(68,39346000,'Excision of lesion of conjunctiva','Excision of lesion of conjunctiva','ExcisConjLesion',30),
			array(69,172410004,'Debridement of corneal lesion','Corneal debridement','Debride',20),
			array(70,503003,'Corneal gluing','Corneal glue','Glue',30),
			array(71,413479001,'Alloplastic corneal inlay','Corneal inlay insertion','Inlay insert',30),
			array(72,413479001,'Alloplastic corneal inlay','Corneal inlay removal','Inlay removal',30),
			array(73,172421008,'Adjustment to corneal suture','Corneal suture adjustment','AdjustSuture',30),
			array(74,172423006,'Removal of corneal suture','Corneal suture removal','removal of sutu',30),
			array(75,21825005,'Diathermy','Corneal vessel diathermy','CornDiath',30),
			array(76,62428002,'Suture of cornea','Corneal wound suture','Closure cornea',30),
			array(77,85952003,'Cross-linking','Cross-linking of cornea','Cross-linking',60),
			array(78,421266004,'Descemet\'s stripping endothelial keratoplasty','DSAEK repositioning','DSAEK reposition',45),
			array(79,13793006,'Extracapsular extraction of lens','Extracapsular cataract extraction','ECCE',30),
			array(80,40464001,'Epikeratophakia','Epikeratoplasty','Epikeratoplasty',60),
			array(81,91177008,'Eye examination under anesthesia','Examination under anaesthesia','EUA',30),
			array(82,172426003,'Removal of foreign body from cornea','Removal of corneal foreign body','Corneal FB',20),
			array(83,33810006,'Injection of eye','Injection into eye','inj eye',30),
			array(84,120113002,'Cornea injection','Intrastromal corneal injection','Intrastromal',30),
			array(85,231751005,'Exchange of intraocular lens','IOL exchange','Exchange IOL',30),
			array(86,373416003,'Implantation of anterior chamber intraocular lens','IOL insertion - anterior chamber','IOLantcham',30),
			array(87,373415004,'Implantation of posterior chamber intraocular lens','IOL insertion - posterior chamber','IOLpostcham',30),
			array(88,417709003,'Sutured posterior chamber intraocular lens implantation','IOL insertion - sutured','IOLsuture',60),
			array(90,231730007,'Iridoplasty','Iridoplasty (occluder)','Pupiloplasty',30),
			array(91,231730007,'Iridoplasty','Iridoplasty (suture)','Pupiloplasty',30),
			array(92,83694000,'Lamellar keratoplasty','Keratoplasty - anterior lamellar','Ant lam keratop',120),
			array(93,293820001,'Keratoplasty','Keratoplasty - automated Moria','Moria ALK',45),
			array(94,42101009,'Penetrating keratoplasty','Keratoplasty - penetrating','Corneal graft',60),
			array(95,419191005,'Deep lamellar endothelial keratoplasty','Keratoplasty - posterior DMEK','DSAEK',120),
			array(96,421266004,'Descemet\'s stripping endothelial keratoplasty','Keratoplasty - posterior DSAEK','DMEK',120),
			array(97,70969005,'Penetrating keratoplasty with autograft','Keratoplasty - rotation autograft','RotationlCorGft',45),
			array(98,293820001,'Keratoplasty','Keratoplasty - tectonic','Graft tectonic',90),
			array(99,27668001,'Insertion of keratoprosthesis','Keratoprosthesis','Kpro',60),
			array(100,414582004,'Laser assisted subepithelial keratomileusis','LASEK/PRK','LASEK/PRK',35),
			array(102,447361006,'Repositioning of corneal flap','LASIK flap reposition','LASIK flap',30),
			array(103,397554006,'Limbal stem cell transplantation','Limbal cell transplant','Limbal',60),
			array(104,6818001,'Excision of buccal mucosa','Mucous membrane graft','MMG',30),
			array(105,172310003,'Occlusion of lacrimal punctum','Occlusion of lacrimal punctum','OcclLacrPunctm',30),
			array(106,414470005,'Implantation of phakic intraocular lens implant','Phakic IOL insertion','Phakic IOL',45),
			array(107,193845004,'Excisional biopsy of conjunctiva','Pingueculum excision','ExcBxPinguecula',40),
			array(108,20466006,'Excision of pterygium with graft','Pterygium excision & conj auto-grft','ExPteryConjAuGf',45),
			array(109,231705009,'Laser superficial keratectomy','PTK - Laser superficial keratectomy','PTK',35),
			array(110,172517004,'Reformation of anterior chamber','Reformation of AC','Reformation AC',60),
			array(111,75318004,'Suture of laceration of sclera','Repair of penetrating injury','Penetrating inj',90),
			array(112,256918004,'Scleral graft','Scleral graft','Graft to Sclera',60),
			array(113,74410004,'Subconjunctival injection','Subconjunctival injection','Conj inject',15),
			array(114,172405003,'Superficial keratectomy','Superficial keratectomy','Superficial K',45),
			array(116,20975004,'Tattooing of cornea','Tattooing of cornea','Tattooing corne',30),
			array(120,172507009,'Anterior chamber of eye and/or lens operations','Cyclodialysis cleft repair','CyclodiaClftRep',45),
			array(122,265292003,'Goniotomy','Goniotomy','Goniotomy',30),
			array(123,256918004,'Scleral graft','Graft to sclera','DonorSclera',60),
			array(124,265291005,'Insertion of drainage tube into anterior chamber','Insertion of aqueous shunt','InsAqueousShunt',90),
			array(125,231730007,'Iridoplasty','Iridoplasty','Iridoplasty',45),
			array(127,35137007,'Photocoagulation of ciliary body','Laser coagulation ciliary body','Cyclodiode',20),
			array(128,371345007,'Laser iridotomy','Laser iridotomy','Laser PI',20),
			array(129,172485001,'Laser trabeculoplasty','Laser trabeculoplasty','ALT',30),
			array(130,408763006,'Needle revision of failed filtering bleb','Needling of bleb','NeedlingBleb',45),
			array(131,231741009,'Revision of anterior chamber','Revision of anterior chamber','Revision AC',60),
			array(132,440587008,'Revision of aqueous shunt to extraocular reservoir','Revision of aqueous shunt','RevAqueousShunt',90),
			array(134,314117007,'Revision of trabeculectomy','Revision of trabeculectomy','Revision traby',45),
			array(135,225703004,'Secondary lens implant','Secondary lens implant','Secondary IOL',30),
			array(137,30880003,'Trabeculectomy ab externo','Trabeculectomy','Traby',60),
			array(138,417129009,'Trabeculectomy with intraoperative application of 5-fluorouracil','Application of 5FU','5FU',20),
			array(139,416968006,'Trabeculectomy with intraoperative application of mitomycin','Application of MMC','MMC',20),
			array(140,82736000,'Trabeculotomy','Trabeculotomy','Trabeculotomy',60),
			array(141,256243004,'Beta radiation','Application of beta radation','Beta irradiation',60),
			array(146,172565003,'Cryotherapy to lesion of retina','Cryotherapy to lesion of retina','Cryo',30),
			array(148,64854001,'Aspiration of lens','Aspiration of lens','Aspiration Lens',30),
			array(150,231701000,'Botulinum toxin injection into eye muscle','Botulinum injection eye muscle','BTXA-muscle',30),
			array(151,172331000,'Inferior rectus recession','Inferior rectus recession','IR recess',30),
			array(152,172342009,'Inferior rectus resection','Inferior rectus resection','IR resect',30),
			array(153,309873007,'Lateral rectus recession','Lateral rectus recession','LR -',30),
			array(154,309874001,'Lateral rectus resection','Lateral rectus resection','LR +',30),
			array(155,309872002,'Medial rectus recession','Medial rectus recession','MR -',30),
			array(156,265284007,'Medial rectus resection','Medial rectus resection','MR +',30),
			array(157,172330004,'Superior rectus recession','Superior rectus recession','SR -',30),
			array(158,172341002,'Superior rectus resection','Superior rectus resection','SR +',30),
			array(159,15043000,'Adjustable suture technique during strabismus surgery','Adjustable suture','Adjustable',30),
			array(160,231698008,'Inferior oblique Faden','Inferior oblique Faden','IO Faden',45),
			array(161,231653002,'Medial rectus vertical transposition','Knapp procedure','Knapp',30),
			array(162,231653002,'Medial rectus vertical transposition','Medial rectus vertical transposition','MR vert trans',30),
			array(163,172332007,'Superior oblique recession','Superior oblique recession','SO -',30),
			array(164,172354009,'Superior oblique tenotomy','Superior oblique tenotomy','SO tenotomy',30),
			array(165,428435002,'Retinopexy using cryotherapy','Cryotherapy retinopexy','Cryo',20),
			array(166,257788009,'Delamination','Delamination','Delam',45),
			array(167,172462002,'Drainage of subretinal fluid through sclera','External drainage of SRF','Drain',10),
			array(168,172571009,'Epiretinal dissection','Epiretinal membrane peel','Peel',20),
			array(170,231750006,'Pars plana lensectomy','Fragmatome lensectomy','Frag',30),
			array(171,66205002,'Injection of gas','Injection of gas','Gas',10),
			array(172,310558000,'Preretinal membranectomy by peeling','Internal limiting membrane peel','ILM',20),
			array(173,69724002,'Insertion of intraocular lens','Insertion of IOL','IOL',20),
			array(174,231755001,'Injection of drug into vitreous','Intravitreal injection','Intravit',10),
			array(175,231724007,'Peripheral iridectomy','Peripheral iridectomy','PI',10),
			array(176,287588003,'Laser retinal adhesion formation','Laser retinopexy','Laser',20),
			array(177,312713003,'Panretinal photocoagulation','Panretinal photocoagulation','PRP',30),
			array(179,371394007,'Removal of scleral buckle','Removal of buckle','RO buckle',20),
			array(180,53570002,'Removal of foreign body from eye','Removal of intraocular foreign body','IOFB',45),
			array(182,231783004,'Removal of silicone oil from vitreous','Removal of oil','ROO',30),
			array(184,172573007,'Biopsy of retinal lesion','Biopsy of retina','Ret biopsy',40),
			array(185,231775005,'Retinectomy','Retinectomy','Retinectomy',40),
			array(186,26786002,'Scleral buckling','Scleral buckle','Buckle',60),
			array(187,231779004,'Injection of silicone oil into vitreous','Injection of silicone oil','Oil',20),
			array(188,75732000,'Vitrectomy','Vitrectomy','Vity',60),
			array(189,231754002,'Biopsy of vitreous','Biopsy of vitreous','Vit biopsy',20),
			array(190,231681008,'Superior oblique plication','Superior oblique tuck','SO tuck',40),
			array(191,304273001,'Corneal implant','Insertion of Intacs','Intacs ',30),
			array(192,172426003,'Removal of foreign body from cornea','Removal of Intacs','Removal of Intacs',30),
			array(193,172157006,'Reconstruction of orbital cavity with local skin flap','Reconstruction of orbit','Orb recn',90),
			array(194,36436000,'Excision of lesion of eyebrow','Excision of lesion of eyebrow','Excision eyebrow lesion',30),
			array(195,172196000,'Excision of lesion of canthus','Excision of lesion of canthus','Excision cathal lesion',30),
			array(197,172280008,'Insertion of gold weight into upper eyelid','Insertion of gold weight','Gld wt',40),
			array(198,231627005,'Total excision of lacrimal gland','Excision of lacrimal gland','Excision of lacrimal gland',60),
			array(199,172304003,'Removal of tube from nasolacrimal duct','Removal of tube from nasolacrimal duct','Removal tube',20),
			array(202,231687007,'Superior oblique Harada-Ito procedure','Superior oblique Harada-Ito','Haradi-Ito',50),
			array(205,231773003,'Subretinal membranectomy','Subretinal membranectomy','Removal of CNV',60),
			array(206,231781002,'Removal of intravitreal gas/fluid','Removal of gas','Removal of gas',20),
			array(207,35829002,'Removal of orbital implant','Removal of orbital implant','Orb implnt removal',30),
			array(208,312965008,'Laser assisted in situ keratomileusis','LASIK','LASIK',20),
			array(210,18267000,'Implantation of facial bone, synthetic or alloplastic','Allogenic implant','Al implnt',40),
			array(211,180849006,'Harvest of other tissue','Dermis fat graft','DFG',30),
			array(212,426098003,'Harvest of cartilage from ear','Ear cartilage graft','Aur cart',30),
			array(213,25570002,'Endoscopy of nose','Endoscopy','Enscpy',20),
			array(214,53958007,'Harvesting of donor material','Hardpalate graft','HPG',30),
			array(216,396487001,'Sentinel lymph node biopsy','Sentinel node biopsy','SNB',90),
			array(217,180715005,'Harvest of split skin for graft','Split skin graft','Split skin',30),
			array(220,197922007,'Biopsy of lacrimal gland','Biopsy of lacrimal gland','Lacrimal gland biopsy',45),
			array(221,118772009,'Procedure on lacrimal gland','Other procedure on lacrimal gland','Lacrimal gland - other',60),
			array(222,202568006,'Biopsy of lacrimal sac','Biopsy of lacrimal sac','Lsac Bx',45),
			array(223,61443003,'Excision of lesion of lacrimal sac','Excision of lacrimal sac','Lacrimal sac - excision',60),
			array(224,76143007,'Repair of canaliculus of lacrimal system','Repair of canaliculus','Rep canaliculus',45),
			array(225,412719003,'Lowering of upper eyelid','Lid lowering anterior approach','Lid low ant',45),
			array(226,231615007,'Lamellar division and slide of upper eyelid','Lid lowering posterior approach','Lid low post',45),
			array(227,118912008,'Procedure on eyelid','Reformation of skin crease','Skin crease reformation',60),
			array(231,428590006,'Direct browlift ','Brow lift - direct','Brow lift - direct',60),
			array(232,427799006,'Internal browlift','Brow lift - internal','Brow lift - indirect',60),
			array(234,231574007,'Correction of telecanthus by transnasal wire','Telecanthus - correction with wire','Telecnth wire',90),
			array(237,4765003,'Insertion of ocular implant following or secondary to enucleation','Insertion of orbital implant','Orb ball implnt',90),
			array(238,303648002,'Excision of papilloma','Excision of papilloma','Exc papilloma',30),
			array(239,40654000,'Operation on eyelid','Operation on eyelid','Opn eyelid',30),
			array(240,17639001,'Operation on extraocular muscle','Operation for squint','Squint op',40),
			array(241,19999005,'Slitting of lacrimal canaliculus for removal of streptothrix','Calaniculotomy for canaliculitis','Canltmy',30),
			array(242,60953002,'Lateral canthopexy','Canthopexy - Lateral ','Lat cnthpxy',45),
			array(243,231592004,'Lateral canthoplasty','Canthoplasty - Lateral ','Lat cnthplst',60),
			array(244,27491009,'Medial canthoplasty','Canthoplasty - Medial','Med cnthplsty',60),
			array(245,231605001,'Medial Lee tarsorraphy','Canthoplasty - Medial Lee','Lee',45),
			array(246,234900007,'Cheek operation','Cheek lift','Chk lft',60),
			array(247,172234006,'Correction of deformity of eyelid','Congenital anomaly - Correction','Corr anmly',60),
			array(249,231601005,'Correction of medial ectropion','Ectropion - medial only correction','Ectr med',45),
			array(250,120103005,'Eyelid injection','Injection into eyelid','Inj lid',15),
			array(252,172212009,'Excision of lesion of eyelid','Excision of lid lesion - no biopsy','Ex lid lsn',30),
			array(253,231624003,'Insertion of graft into lower eyelid','Lower lid elevation - specify graft material','LL elvtn',45),
			array(254,172257000,'Correction of ptosis by aponeurotic repair','Ptosis correction - apo repair - anterior approach','Pt ant',60),
			array(255,172257000,'Correction of ptosis by aponeurotic repair','Ptosis correction - apo repair - posterior approach','Pt post',60),
			array(256,27374006,'Closure of lacrimal punctum','Punctum closure','Punctal occl',30),
			array(257,231625002,'Removal of gold weight from upper eyelid','Removal of gold weight','Rmv Gld wt',45),
			array(258,284079008,'Revision of scar','Revision of scar','Scar rvn',45),
			array(259,287411001,'Permanent eyelid closure','Tarsorrhaphy - permanent','Tars permnt',60),
			array(260,172264003,'Protective suture of eyelid','Tarsorrhaphy - temporary','Tars temp',30),
			array(261,172244008,'Medial tarsorrhaphy','Tarsorrhaphy - medial pillar','Tars med',45),
			array(262,172261006,'Drainage of lesion of eyelid','Drainage of eyelid abscess','Absc drng',60),
			array(263,303636000,'Conjunctival biopsy','Biopsy of conjunctiva - incisional','Bx cnj',30),
			array(264,196308007,'Biopsy of eyelid','Biopsy of lid - excisional','Bx exc ld',30),
			array(265,62553002,'Repair of blepharophimosis','Blepharophimosis - canthal surgery','Blphmosis canth',90),
			array(266,274937009,'Botulinum toxin injection into eyelid','Botulinum toxin injection to eyelid','BoTox inj',15),
			array(267,53707000,'Resection of orbicularis oculi muscle','Blepharospasm - orbicularis muscle stripping','OrbicularisMsSt',45),
			array(268,55272009,'Dacryocystectomy','Dacrocystectomy','Dctmy',60),
			array(269,265281004,'Canaliculodacryocystorhinostomy','Dacrocystorhinostomy & retrotubes','CanaliculoDCR',90),
			array(270,419020002,'Creation of anastomosis between lacrimal drainage system and nose','Endonasal revision of DCR','Endo rev DCR',45),
			array(271,417917001,'Intubation of lacrimal drainage structure','Lacrimal intubation','LacIntub',60),
			array(272,172836001,'Examination of nose under anesthetic','Nasendoscopy','Nasedosc',45),
			array(273,103718005,'Removal of stent','Removal of stent','Rem stnt',30),
			array(274,240986006,'Harvest of skin graft','Full thickness skin graft','FTSG',20),
			array(277,410563000,'Periocular steroid injection','Periocular steroid injection','Peri Inj Steroid',15),
			array(278,285435007,'Intravenous steroid injection','Intravenous steroid injection','IV steroid injection',10),
			array(280,231607009,'Correction of entropion of lower eyelid','Entropion correction of lower eyelid','Ent lower lid',60),
			array(281,231612005,'Correction of entropion of upper eyelid','Entropion Correction of upper eyelid','Ent upper lid',60),
			array(282,172389006,'Mucosal graft to conjunctiva','MMG to ocular suface','MMG',90),
			array(283,231552001,'Anterior orbitotomy','Anterior orbitotomy - lower lid approach','Ant Orb LL',90),
			array(284,231552001,'Anterior orbitotomy','Anterior orbitotomy - upper lid approach','Ant Orb UL',90),
			array(285,83639008,'Decompression of orbit','Decompression of orbit - medial wall for neuropathy','Decmp med only',60),
			array(286,83639008,'Decompression of orbit','Decompression of orbit 2(+) walls balanced approach','Decmp 2+ balanced',90),
			array(287,83639008,'Decompression of orbit','Decompression of orbit lateral wall','Decmp lat',60),
			array(288,231552001,'Anterior orbitotomy','Dermolipoma excision (microscope)','Drmlpm',60),
			array(289,36895007,'Exploration of orbit','Exploration of orbit','Orb explrn',60),
			array(290,172172005,'Drainage of orbit','Drainage of orbital abscess','Orb absc',60),
			array(291,231552001,'Anterior orbitotomy','Orbital fat prolapse - trans conjunctival reduction','Deblk ft',60),
			array(292,172173000,'Removal of foreign body from orbit','Removal of orbital foreign body','Orb FB',90),
			array(293,231546002,'Reconstruction of orbital cavity with dermofat graft','Dermis fat graft to socket','DFGsock',90),
			array(294,205336009,'Enucleation of eye without implant','Enucleation no implant','Enuc no implnt',60),
			array(295,373356002,'Evisceration of eye proper','Evisceration no implant','Evisc no ball',60),
			array(296,6444006,'Enlargement of eye socket','Moulding of socket','Mld',45),
			array(297,16938001,'Reconstruction of eye socket','Reconstruction of eye socket with MMG','Frnx recon',60),
			array(300,76790002,'Insertion of tissue expander','Insertion of socket expander','Sckt exp',60),
			array(301,231679006,'Inferior rectus Faden','Inferior rectus Faden','IR Faden',45),
			array(302,231666002,'Lateral rectus Faden','Lateral rectus Faden','LR Faden',45),
			array(303,231654008,'Medial rectus Faden','Medial rectus Faden','MR Faden',45),
			array(304,231689005,'Superior oblique Faden','Superior oblique Faden','SO Faden',45),
			array(305,231672002,'Superior rectus Faden','Superior rectus Faden','SR Faden',45),
			array(306,231684000,'Superior oblique disinsertion','Superior oblique disinsertion','SO disinsertion',40),
			array(307,231665003,'Lateral rectus vertical transposition','Lateral rectus vertical transposition','LR vert trans',90),
			array(308,415089008,'Phacoemulsification of cataract with intraocular lens implantation','Phakoemulsification and IOL','Phako/IOL',30),
			array(310,313275006,'Astigmatic keratotomy','Femtosecond astigmatic keratotomy','FSAK',30),
			array(311,312965008,'Laser assisted in situ keratomileusis','IntraLASIK Eye Surgery','IntraLASIK',20),
			array(312,72821000,'Biopsy of temporal artery','Biopsy of temporal artery','TempArtryBiopsy',40),
			array(313,172318005,'Combined operation on eye muscles','Combined operation on eye muscles','Squint opn',60),
			array(314,171652004,'Decompression of optic nerve','Decompression of optic nerve','ONSD-opticdecom',60),
			array(315,231678003,'Inferior rectus horizontal transposition','Inferior rectus horizontal transposition','IR transposition',25),
			array(316,231695006,'Inferior oblique anterior transposition','Inferior oblique anterior transposition','IO ant trans',40),
			array(317,231694005,'Inferior oblique disinsertion','Inferior oblique disinsertion','IO -',40),
			array(318,75170007,'Extraction of lens of eye','Other extraction of lens','Other extract lens',30),
			array(319,231671009,'Superior rectus horizontal transposition','Superior rectus horizontal transposition','SR transposition',25),
			array(320,231685004,'Superior oblique anterior transposition','Superior oblique anterior transposition','SO ant transposition',0),
			array(321,231787003,'Biopsy of lesion of choroid','Biopsy of choroid','Chor biopsy',30),
			array(322,172542008,'Revision of intraocular lens','Revision of IOL','Revision IOL',45),
			array(323,308694002,'Extracapsular cataract extraction and insertion of intraocular lens','Extracapsular cataract extraction and insertion of IOL','ECCE/IOL',30),
			array(324,4143006,'Injection of anterior chamber of eye','Injection of anterior chamber of eye','Inj AC',40),
			array(325,25302008,'Biopsy of iris','Biopsy of iris','Biopsy Iris',30),
			array(326,410565007,'Retrobulbar steroid injection','Retrobulbar steroid injection','Retro steroid',15),
			array(327,410563000,'Periocular steroid injection','Periocular steroid injection','Periocular steroid',15),
			array(328,429057009,'Plaque radiotherapy of lesion of retina','Radioactive plaque','Plaque',45),
			array(329,71091006,'Cryotherapy of ciliary body','Cryotherapy of ciliary body','CycloCryo',30)
		);

		foreach ($procs as $proc) {
			$this->insert('proc', array(
				'id' => $proc[0],
				'snomed_code' => $proc[1],
				'snomed_term' => $proc[2],
				'term'=>$proc[3],
				'short_format'=>$proc[4],
				'default_duration'=>$proc[5]
			));
		}

		$specSubs = array(
			array(1,2,'Ancillary'),
			array(2,2,'Corneoplastic'),
			array(3,2,'Lacrimal'),
			array(4,2,'Lid'),
			array(5,2,'Orbit'),
			array(6,2,'Socket & eye removal')
		);

		foreach ($specSubs as $specSub) {
			$this->insert('specialty_subsection', array(
				'id' => $specSub[0],
				'specialty_id' => $specSub[1],
				'name' => $specSub[2],
			));
		}

		$pSpecAs = array(
			array(2,48,4),
			array(3,41,4),
			array(4,47,4),
			array(5,79,4),
			array(6,173,4),
			array(7,42,4),
			array(9,40,4),
			array(10,46,4),
			array(11,52,4),
			array(12,45,4),
			array(13,53,4),
			array(14,38,4),
			array(92,54,6),
			array(93,41,6),
			array(94,56,6),
			array(95,57,6),
			array(96,33,6),
			array(97,59,6),
			array(98,266,6),
			array(99,61,6),
			array(100,62,6),
			array(101,65,6),
			array(102,66,6),
			array(103,67,6),
			array(104,68,6),
			array(105,69,6),
			array(106,70,6),
			array(107,71,6),
			array(108,72,6),
			array(109,73,6),
			array(110,74,6),
			array(111,75,6),
			array(112,76,6),
			array(113,77,6),
			array(114,78,6),
			array(115,80,6),
			array(116,81,6),
			array(117,79,6),
			array(118,82,6),
			array(119,83,6),
			array(120,84,6),
			array(121,85,6),
			array(122,86,6),
			array(123,87,6),
			array(124,88,6),
			array(125,45,6),
			array(126,90,6),
			array(127,91,6),
			array(128,92,6),
			array(129,93,6),
			array(130,94,6),
			array(131,95,6),
			array(132,96,6),
			array(133,97,6),
			array(134,98,6),
			array(135,99,6),
			array(136,100,6),
			array(138,102,6),
			array(139,103,6),
			array(140,104,6),
			array(141,105,6),
			array(152,106,6),
			array(153,107,6),
			array(154,108,6),
			array(155,109,6),
			array(156,110,6),
			array(157,111,6),
			array(158,112,6),
			array(159,113,6),
			array(160,114,6),
			array(161,21,6),
			array(162,116,6),
			array(163,41,7),
			array(164,138,7),
			array(165,141,7),
			array(166,139,7),
			array(167,120,7),
			array(168,81,7),
			array(170,122,7),
			array(171,123,7),
			array(172,124,7),
			array(174,125,7),
			array(176,127,7),
			array(177,128,7),
			array(178,129,7),
			array(179,130,7),
			array(180,42,7),
			array(181,131,7),
			array(182,132,7),
			array(183,45,7),
			array(184,134,7),
			array(185,135,7),
			array(186,175,7),
			array(187,137,7),
			array(188,140,7),
			array(189,146,8),
			array(190,79,8),
			array(191,173,8),
			array(192,177,8),
			array(193,42,8),
			array(194,148,11),
			array(195,81,11),
			array(196,7,11),
			array(199,56,13),
			array(200,66,13),
			array(201,71,13),
			array(202,72,13),
			array(203,73,13),
			array(204,74,13),
			array(205,77,13),
			array(206,100,13),
			array(207,208,13),
			array(208,102,13),
			array(209,106,13),
			array(228,41,15),
			array(230,42,15),
			array(231,46,15),
			array(232,48,15),
			array(233,165,16),
			array(234,166,16),
			array(235,168,16),
			array(236,81,16),
			array(237,167,16),
			array(238,170,16),
			array(239,171,16),
			array(240,187,16),
			array(241,173,16),
			array(242,172,16),
			array(243,174,16),
			array(246,176,16),
			array(247,177,16),
			array(248,42,16),
			array(251,179,16),
			array(252,206,16),
			array(253,180,16),
			array(254,46,16),
			array(255,182,16),
			array(256,45,16),
			array(257,184,16),
			array(258,185,16),
			array(259,186,16),
			array(260,188,16),
			array(261,189,16),
			array(264,148,14),
			array(265,155,14),
			array(266,173,7),
			array(267,173,15),
			array(269,310,13),
			array(270,311,13),
			array(271,38,13),
			array(272,312,14),
			array(273,150,14),
			array(274,308,14),
			array(275,313,14),
			array(276,314,14),
			array(277,68,14),
			array(278,81,14),
			array(279,35,14),
			array(280,159,14),
			array(281,151,14),
			array(282,152,14),
			array(283,315,14),
			array(284,301,14),
			array(285,316,14),
			array(286,317,14),
			array(287,173,14),
			array(288,7,14),
			array(289,153,14),
			array(290,154,14),
			array(291,21,14),
			array(292,155,14),
			array(293,156,14),
			array(294,303,14),
			array(295,261,14),
			array(296,318,14),
			array(297,319,14),
			array(298,157,14),
			array(299,158,14),
			array(300,320,14),
			array(301,304,14),
			array(302,202,14),
			array(303,163,14),
			array(304,190,14),
			array(305,62,14),
			array(306,321,16),
			array(307,308,16),
			array(308,62,7),
			array(309,322,7),
			array(310,42,6),
			array(311,308,6),
			array(312,323,6),
			array(313,208,6),
			array(314,208,5),
			array(315,103,5),
			array(316,102,5),
			array(317,100,5),
			array(318,99,5),
			array(319,98,5),
			array(320,97,5),
			array(321,96,5),
			array(322,95,5),
			array(323,94,5),
			array(324,93,5),
			array(325,92,5),
			array(326,91,5),
			array(327,90,5),
			array(328,45,5),
			array(329,104,5),
			array(330,105,5),
			array(331,323,5),
			array(332,308,5),
			array(333,42,5),
			array(334,116,5),
			array(335,21,5),
			array(336,114,5),
			array(337,113,5),
			array(338,112,5),
			array(339,111,5),
			array(340,110,5),
			array(341,109,5),
			array(342,108,5),
			array(343,107,5),
			array(344,106,5),
			array(345,88,5),
			array(346,87,5),
			array(347,70,5),
			array(348,69,5),
			array(349,68,5),
			array(350,67,5),
			array(351,66,5),
			array(352,65,5),
			array(353,62,5),
			array(354,61,5),
			array(355,266,5),
			array(356,59,5),
			array(357,33,5),
			array(358,57,5),
			array(359,56,5),
			array(360,41,5),
			array(361,71,5),
			array(362,72,5),
			array(363,86,5),
			array(364,85,5),
			array(365,84,5),
			array(366,83,5),
			array(367,82,5),
			array(368,79,5),
			array(369,81,5),
			array(370,80,5),
			array(371,78,5),
			array(372,77,5),
			array(373,76,5),
			array(374,75,5),
			array(375,74,5),
			array(376,73,5),
			array(377,54,5),
			array(378,308,4),
			array(379,73,4),
			array(380,61,4),
			array(381,323,4),
			array(382,324,4),
			array(383,50,4),
			array(384,62,4),
			array(385,322,4),
			array(386,175,4),
			array(387,41,8),
			array(388,321,8),
			array(389,325,8),
			array(390,323,8),
			array(391,308,8),
			array(392,326,8),
			array(393,327,8),
			array(394,328,8)
		);

		foreach ($pSpecAs as $pSpecA) {
			$this->insert('proc_specialty_assignment', array(
				'id' => $pSpecA[0],
				'proc_id' => $pSpecA[1],
				'specialty_id' => $pSpecA[2],
			));
		}

		$pSSAs = array(	
			array(1,8,4),
			array(2,9,4),
			array(3,10,4),
			array(4,11,4),
			array(5,12,4),
			array(6,13,4),
			array(7,14,4),
			array(8,15,4),
			array(9,16,4),
			array(10,17,4),
			array(11,18,4),
			array(12,19,4),
			array(13,20,4),
			array(14,21,4),
			array(15,33,4),
			array(16,34,4),
			array(17,35,4),
			array(18,36,4),
			array(19,81,4),
			array(20,197,4),
			array(21,224,4),
			array(22,225,4),
			array(23,226,4),
			array(24,227,4),
			array(25,231,4),
			array(26,232,4),
			array(27,234,4),
			array(28,242,4),
			array(29,243,4),
			array(30,244,4),
			array(31,245,4),
			array(32,246,4),
			array(33,247,4),
			array(35,249,4),
			array(36,250,4),
			array(37,252,4),
			array(38,253,4),
			array(39,254,4),
			array(40,255,4),
			array(41,256,4),
			array(42,257,4),
			array(43,258,4),
			array(44,259,4),
			array(45,260,4),
			array(46,261,4),
			array(47,262,4),
			array(48,263,4),
			array(49,264,4),
			array(50,265,4),
			array(51,266,4),
			array(52,267,4),
			array(53,1,3),
			array(54,2,3),
			array(55,3,3),
			array(56,5,3),
			array(57,7,3),
			array(58,36,3),
			array(59,81,3),
			array(60,105,3),
			array(61,222,3),
			array(62,241,3),
			array(63,244,3),
			array(64,268,3),
			array(65,269,3),
			array(66,270,3),
			array(67,271,3),
			array(68,272,3),
			array(69,273,3),
			array(70,16,1),
			array(71,17,1),
			array(72,37,1),
			array(73,81,1),
			array(74,104,1),
			array(75,210,1),
			array(76,211,1),
			array(77,212,1),
			array(78,213,1),
			array(79,214,1),
			array(80,216,1),
			array(81,217,1),
			array(82,266,1),
			array(83,274,1),
			array(84,277,1),
			array(85,278,1),
			array(86,18,2),
			array(87,32,2),
			array(88,34,2),
			array(89,67,2),
			array(90,105,2),
			array(91,225,2),
			array(92,226,2),
			array(93,244,2),
			array(94,253,2),
			array(95,280,2),
			array(96,281,2),
			array(97,282,2),
			array(98,22,5),
			array(99,23,5),
			array(100,24,5),
			array(101,26,5),
			array(102,81,5),
			array(103,193,5),
			array(104,283,5),
			array(105,284,5),
			array(106,285,5),
			array(107,286,5),
			array(108,287,5),
			array(109,288,5),
			array(110,289,5),
			array(111,290,5),
			array(112,291,5),
			array(113,292,5),
			array(114,28,6),
			array(115,29,6),
			array(116,30,6),
			array(117,31,6),
			array(118,81,6),
			array(119,207,6),
			array(120,237,6),
			array(121,293,6),
			array(122,294,6),
			array(123,295,6),
			array(124,296,6),
			array(125,297,6),
			array(126,300,6)
		);

		foreach ($pSSAs as $pSSA) {
			$this->insert('proc_specialty_subsection_assignment', array(
				'id' => $pSSA[0],
				'proc_id' => $pSSA[1],
				'specialty_subsection_id' => $pSSA[2],
			)); 
		}
	}

	public function down()
	{
		$this->truncateTable('proc_specialty_assignment');
		$this->truncateTable('proc_specialty_subsection_assignment');
		$this->truncateTable('specialty_subsection');
		$this->truncateTable('proc');
		$this->dropColumn('proc', 'snomed_code');
		$this->dropColumn('proc', 'snomed_term');
	}
}
