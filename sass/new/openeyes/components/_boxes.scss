// Boxes
//
// A box is simply a container that groups large sections of the page, for example
// am event detail view.
//
// Markup:
// <div class="box {$modifiers}">
//     <p>Here is some content within a box.</p>
// </div>
//
// .content             - Content box
//
// Styleguide 13.1

// Box vars
$oe-box-gutter: $column-gutter / 2;
$oe-box-margin: $oe-box-gutter 0 !default;
$oe-box-border-radius: $global-radius !default;
$oe-box-content-bg-color: #dae6f1 !default;
$oe-box-event-border-radius: 0 !default;
$oe-box-event-background: #fafafa !default;
$oe-box-event-padding: emCalc(5px) emCalc(5px) emCalc(10px) emCalc(5px) !default;
$oe-box-event-border-width: 0 5px 5px !default;

.box {
	@include border-radius($oe-box-border-radius);
	position: relative;
	margin: $oe-box-margin;
}

.box-header {
	@extend .clearfix;
	margin-bottom: emCalc(12px);
}

.box-actions {
	text-align: center;
}

// Content box
.box {
	&.content {
		background: $oe-box-content-bg-color;
		&.admin-content {
			padding: emCalc(16px) 0;
		}
	}
}

// Generic box
.box {
	&.generic {
		background: #fff;
		padding: emCalc(12px);
		p:last-child {
			margin: 0;
		}
		h1,h2,h3,h4,h5 {
			margin-top: 0;
			line-height: 1;
		}
	}
}

// Patient info box
.box {
	&.patient-info {
		background: #fafafa;
		padding: emCalc(12px);
		.box-title {
			font-size: emCalc(13px);
			color: #e49f10;
			margin: 0;
			padding: 0 0 emCalc(10px) 0;
		}
		.data-row {
			padding: emCalc(10px) 0;
			border-top: 1px dotted #ccc;
			&:last-child {
				padding-bottom: 0;
			}
			&.highlight {
				background: goldenrod;
				> .column {
					padding-left: emCalc(12px);
					padding-right: emCalc(12px);
				}
				.data-label {
					color: #eee;
				}
				.data-value {
					color: #666;
				}
			}
		}
		.field-label {
			color: #777;
		}
		.add-data {
			> fieldset > legend {
				margin-bottom: emCalc(25px);
			}
			.field-row {
				padding-bottom: emCalc(12px);
				&:last-child {
					padding-bottom: 0;
				}
			}
		}
		.toggle-trigger {
			height: 22px;
			width: 30px;
			background: #dadada;
			right: emCalc(12px);
			&:hover {
				background: #3665ff;
			}
		}
		.add-data {
			margin: emCalc(6px) 0 emCalc(12px) 0;
		}
	}
}

// Patient info episodes box
.box {
	&.patient-info {
		&.episodes {
			background: #dae6f1;
			.box-title {
				color: #4d5155;
				font-weight: bold;
				float: left;
				padding: 0;
			}
			.box-info {
				float: right;
				font-size: $default-font-size;
			}
			.summary {
				font-size: $default-font-size;
			}
		}
		&.episode-links {
			a {
				font-size: $default-font-size;
				@extend %anchor-hover;
			}
		}
	}
}

// Patient info associated data box
.box {
	&.patient-info {
		&.associated-data {
			border: 1px solid #999;
			.box-title {
				@include border-radius(3px);
				background: #999;
				color: #fff;
				display: inline-block;
				padding: 5px 10px 5px 45px;
				position: relative;
				font-size: emCalc(12px);
				[class*="icon-"] {
					position: absolute;
					left: 0;
					top: -1px;
				}
			}
			.form {
				.buttons {
					text-align: right;
				}
			}
		}
	}
}

// Patient info - associated contacts
.box {
	&.patient-info {
		&.patient-contacts {
			.data-label {
				color: $form-label-font-color;
			}
		}
	}
}

// Transport box
.box {
	&.transport {
		.csvform {
			margin: 0;
		}
	}
}

// Admin box
.box {
	&.admin {
		@include panel;
		@include radius;
		background: #fafafa;
		margin: 0 0 $oe-box-gutter 0;
		h2 {
			margin-bottom: emCalc(12px);
		}
		.table-actions {
			select {
				width: auto;
			}
		}
		.box-header {
			margin: 0;
			.box-title {
				float: left;
			}
		}
		.box-actions {
			float: right;
		}
	}
}